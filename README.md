# Infinni.Node

Утилита для управления приложениями в кластере InfinniPlatform.

## Getting Started

Установка приложения:

```bash
> Infinni.Node.exe install -i MyPackage
```

Запуск приложения:

```bash
> Infinni.Node.exe start -i MyPackage
```

Статус приложения:

```bash
> Infinni.Node.exe status -i MyPackage
```

Остановка приложения:

```bash
> Infinni.Node.exe stop -i MyPackage
```

Удаление приложения:

```bash
> Infinni.Node.exe uninstall -i MyPackage
```

Вызов справки по командам:

```bash
> Infinni.Node.exe help [command]
```

## Packages

Дистрибутив приложения выполняется в виде обычного NuGet-пакета, который должен включать необходимый
набор файлов и зависимостей. Пакеты могут размещаться на любом допустимом NuGet-источнике, включая
обычную файловую систему.

В конфигурационном файле утилиты можно указать несколько NuGet-источников, которые будут использоваться
по умолчанию, если команда `install` была вызвана без явного указания источника. После установки
для приложения будет создан отдельный каталог, который будет содержать все файлы, содержащиеся в
пакете и его зависимостях.

## Sandboxes

Утилита поддерживает установку нескольких версий одного и того же приложения, а также нескольких
экземпляров одной и той же версии. Для каждого экземпляра каждой версии каждого приложения при
установке создается свой рабочий каталог.

Каждое приложение работает в отдельно выделенном процессе под управлением `Infinni.NodeWorker.exe`.
В рамках этого процесса для приложения создается отдельный домен приложения, который нацелен на
соответствующий рабочий каталог.

## Windows & Linux

Утилита является кроссплатформенной, поэтому может работать как в Windows, так и в Linux. Работа в
Linux обеспечивается за счет `Mono`, поэтому вызов утилиты в командной строке Linux должен начинаться
с команды `mono`:

```bash
> mono Infinni.Node.exe ...
```

При установке приложений в Windows они уставливаются, как Windows Services. При установке приложений
в Linux они уставливаются, как Daemons (пока только в виде LSB-совместимого скрипта в init.d). На этом
основные отличия заканчиваются.

## Disclaimer

Утилита обеспечивает кроссплатформенную инфраструктуру для управления приложениями, однако не может
гарантировать, что отдельно взятое приложение является кроссплатформенным. Платформенная независимость
приложения должна обеспечиваться разработчиком самого приложения.
